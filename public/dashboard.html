<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dashboard — Smarter</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="dashboard.css">
</head>
<body class="dashboard-page">
  <header class="site-header">
    <nav class="nav">
      <div class="logo">⚡ Smarter</div>
      <ul class="nav-links" id="dashboard-nav">
        <li><a href="#" id="nav-home" class="active">Home</a></li>
        <li><a href="#" id="nav-device">Device Control</a></li>
        <li><button id="logoutBtn" class="btn-ghost">Logout</button></li>
      </ul>
      <button class="mobile-toggle" aria-label="Open menu">☰</button>
    </nav>
  </header>

  <main class="container dashboard">
    <!-- Dashboard Home Section -->
    <section id="live-energy" class="dashboard-energy dashboard-tab">
      <div class="dashboard-energy-header">
        <h1 class="dashboard-title">
          Live Energy
          <span class="dashboard-glow-block"></span>
        </h1>
        <div class="dashboard-subtitle">
          Watch your energy usage in real-time and see the savings add up
        </div>
      </div>
      <div class="dashboard-grid">
        <div class="dashboard-card">
          <div class="dashboard-card-title">
            Smart Fan <span class="dashboard-card-icon">&#x1F9F2;</span>
          </div>
          <div class="dashboard-card-value">58W</div>
          <div class="dashboard-card-status">Status: On</div>
          <div class="dashboard-progress">
            <div class="dashboard-progress-bar" style="width:60%"></div>
          </div>
        </div>
        <div class="dashboard-card">
          <div class="dashboard-card-title">
            LED Lights <span class="dashboard-card-icon">&#x1F4A1;</span>
          </div>
          <div class="dashboard-card-value">18W</div>
          <div class="dashboard-card-status">Status: On</div>
          <div class="dashboard-progress">
            <div class="dashboard-progress-bar" style="width:55%"></div>
          </div>
        </div>
        <div class="dashboard-card">
          <div class="dashboard-card-title">
            Smart AC <span class="dashboard-card-icon">&#x1F321;</span>
          </div>
          <div class="dashboard-card-value">920W</div>
          <div class="dashboard-card-status">Status: Cooling</div>
          <div class="dashboard-progress">
            <div class="dashboard-progress-bar" style="width:70%"></div>
          </div>
        </div>
        <div class="dashboard-card">
          <div class="dashboard-card-title">
            Smart TV <span class="dashboard-card-icon">&#x1F4FA;</span>
          </div>
          <div class="dashboard-card-value">112W</div>
          <div class="dashboard-card-status">Status: On</div>
          <div class="dashboard-progress">
            <div class="dashboard-progress-bar" style="width:80%"></div>
          </div>
        </div>
        <div class="dashboard-card dashboard-card-savings">
          <div class="dashboard-card-title">Today's Savings</div>
          <div class="dashboard-savings-value">12.0%</div>
          <div class="dashboard-savings-desc">Compared to yesterday</div>
          <div class="dashboard-savings-bars">
            <div class="dashboard-savings-row"><span>6 AM</span><div class="dashboard-savings-bar" style="width:85%"></div><span>85%</span></div>
            <div class="dashboard-savings-row"><span>12 PM</span><div class="dashboard-savings-bar" style="width:65%"></div><span>65%</span></div>
            <div class="dashboard-savings-row"><span>6 PM</span><div class="dashboard-savings-bar" style="width:40%"></div><span>40%</span></div>
            <div class="dashboard-savings-row"><span>Now</span><div class="dashboard-savings-bar" style="width:25%"></div><span>25%</span></div>
          </div>
        </div>
        <div class="dashboard-card dashboard-card-mode">
          <div class="dashboard-card-title">
            <span class="dashboard-card-icon">&#9889;</span> Smart Mode
          </div>
          <div class="dashboard-card-status">Auto-optimizing your usage</div>
        </div>
      </div>
    </section>

    <!-- Device Control Section (matches Screenshot 2025-09-22 095334.png) -->
    <section id="device-control-section" class="dashboard-device-control dashboard-tab" style="display:none;">
      <div class="user-card">
        <div class="user-card-row">
          <span class="user-card-icon">&#128100;</span>
          <div>
            <div class="user-card-title">Welcome, <span id="dashboardUserName">Alex</span>!</div>
            <div class="user-card-desc">Smart Home • Living Room</div>
          </div>
          <span class="user-card-status">Online</span>
        </div>
      </div>
      <div class="device-control-card">
        <div class="device-control-title">
          <span class="device-control-icon">&#128267;</span> Device Control
        </div>
        <div class="device-control-list">
          <div class="device-control-item">
            <span class="device-control-item-icon">&#129488;</span>
            <span class="device-control-item-title">Ceiling Fan</span>
            <span class="device-control-item-value">45W</span>
            <label class="switch">
              <input type="checkbox" checked>
              <span class="slider"></span>
            </label>
          </div>
          <div class="device-control-item">
            <span class="device-control-item-icon">&#128161;</span>
            <span class="device-control-item-title">LED Lights</span>
            <span class="device-control-item-value">Off</span>
            <label class="switch">
              <input type="checkbox">
              <span class="slider"></span>
            </label>
          </div>
          <div class="device-control-item">
            <span class="device-control-item-icon">&#127777;</span>
            <span class="device-control-item-title">Air Conditioner</span>
            <span class="device-control-item-value">920W</span>
            <label class="switch">
              <input type="checkbox" checked>
              <span class="slider"></span>
            </label>
          </div>
        </div>
      </div>
      <div class="dashboard-stats-row">
        <div class="dashboard-stat-card">
          <div class="dashboard-stat-icon">&#128200;</div>
          <div class="dashboard-stat-value">-23%</div>
          <div class="dashboard-stat-label">This Month</div>
        </div>
        <div class="dashboard-stat-card">
          <div class="dashboard-stat-icon">&#9881;</div>
          <div class="dashboard-stat-value">Auto</div>
          <div class="dashboard-stat-label">Smart Mode</div>
        </div>
      </div>
    </section>
  </main>

  <script src="script.js"></script>
  <script>
    // Tab switching logic for dashboard nav
    document.addEventListener('DOMContentLoaded', function() {
      const navHome = document.getElementById('nav-home');
      const navDevice = document.getElementById('nav-device');
      const tabHome = document.getElementById('live-energy');
      const tabDevice = document.getElementById('device-control-section');
      const dashboardUserName = document.getElementById('dashboardUserName');
      // Set username from localStorage if available
      const users = JSON.parse(localStorage.getItem('users') || '[]');
      const loggedIn = localStorage.getItem('loggedIn');
      const me = users.find(u => u.email === loggedIn);
      if (dashboardUserName && me && me.name) dashboardUserName.textContent = me.name;

      navHome.addEventListener('click', function(e) {
        e.preventDefault();
        navHome.classList.add('active');
        navDevice.classList.remove('active');
        tabHome.style.display = '';
        tabDevice.style.display = 'none';
      });
      navDevice.addEventListener('click', function(e) {
        e.preventDefault();
        navDevice.classList.add('active');
        navHome.classList.remove('active');
        tabHome.style.display = 'none';
        tabDevice.style.display = '';
      });
      // Logout: go to landing page
      document.getElementById('logoutBtn').addEventListener('click', function() {
        localStorage.removeItem('loggedIn');
        window.location.href = 'index.html';
      });
    });
  </script>
  <script src="dashboard.js"></script>
</body>
</html>
